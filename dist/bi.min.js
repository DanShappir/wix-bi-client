/*! wix-bi-client - v0.0.2 - 2015-02-18 */!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof module?module.exports=b():a.BI=b()}(this,function(){"use strict";function a(a,b){this.name="BIError",this.message=a,this.desc=b}function b(a,b){return a.replace(/\/$/,"")+"/"+b.replace(/^\//,"")}return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,function(c,d,e){function f(a,b){return a||b||!0}function g(a,b){return a||b||!0}function h(a){switch(typeof a){case"boolean":a=a?1:0;case"number":return""+a;case"object":a=JSON.stringify(a);case"string":return encodeURIComponent(a)}}function i(a){var b=new Image;b.src=a}function j(e,j){if(!f(e,d))throw new a("Undefined event",e);if(!g(e,j))throw new a("",e);var k=b(c,e.adapter);k=Object.keys(j).reduce(function(a,b){return a+"&"+b+"="+h(j[b])},k+"&&&"),i(k.replace(/&&&&/,"?"))}function k(a,b){return a||b||e}return{event:j,error:k}}});